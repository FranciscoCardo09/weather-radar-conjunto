import{aj as Z,v as z,ak as ee,V as G,n as te,al as B,am as w,e as _,h as p,T as v,an as P,z as se,C as re,F as ie,b as g,a as J,ao as D,p as x,m as ae,ap as ne,a0 as k,aq as R,ar as Y,as as oe,at as U,k as $,au as H,av as le,aw as W,ax as ue,ay as fe,d as I,I as A,ai as ce,G as he,az as j,aA as de,E as _e,aB as pe,aC as ge,O as ve,aD as ye,aE as O,a8 as me,aF as K,H as be,aG as Ee,aH as F,J as T,aI as we,aJ as Te,aK as Se,aL as ke,A as Re,aM as Ae,aN as Ne,B as De}from"./D3onIxrH.js";import{b as xe}from"./B9iJ3e22.js";function Ie(t){let e=0,s=G(0),i;return()=>{Z()&&(z(s),ee(()=>(e===0&&(i=te(()=>t(()=>B(s)))),e+=1,()=>{w(()=>{e-=1,e===0&&(i?.(),i=void 0,B(s))})})))}}var Oe=_e|pe;function Fe(t,e,s){new Me(t,e,s)}class Me{parent;is_pending=!1;#t;#p=p?_:null;#a;#u;#s;#r=null;#e=null;#i=null;#n=null;#f=0;#l=0;#c=!1;#h=new Set;#d=new Set;#o=null;#y=Ie(()=>(this.#o=G(this.#f),()=>{this.#o=null}));constructor(e,s,i){this.#t=e,this.#a=s,this.#u=a=>{var r=v;r.b=this,r.f|=P,i(a)},this.parent=v.b,this.#s=se(()=>{if(p){const a=this.#p;re(),a.data===ie?this.#b():this.#m()}else this.#g()},Oe),p&&(this.#t=_)}#m(){try{this.#r=g(()=>this.#u(this.#t))}catch(e){this.error(e)}}#b(){const e=this.#a.pending;e&&(this.is_pending=!0,this.#e=g(()=>e(this.#t)),w(()=>{var s=this.#n=document.createDocumentFragment(),i=J();s.append(i),this.#r=this.#_(()=>(D.ensure(),g(()=>this.#u(i)))),this.#l===0&&(this.#t.before(s),this.#n=null,x(this.#e,()=>{this.#e=null}),this.is_pending=!1)}))}#g(){try{if(this.is_pending=this.has_pending_snippet(),this.#l=0,this.#f=0,this.#r=g(()=>{this.#u(this.#t)}),this.#l>0){var e=this.#n=document.createDocumentFragment();ae(this.#r,e);const s=this.#a.pending;this.#e=g(()=>s(this.#t))}else this.is_pending=!1}catch(s){this.error(s)}}defer_effect(e){ne(e,this.#h,this.#d)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#a.pending}#_(e){var s=v,i=U,a=$;k(this.#s),R(this.#s),Y(this.#s.ctx);try{return e()}catch(r){return oe(r),null}finally{k(s),R(i),Y(a)}}#v(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#v(e);return}if(this.#l+=e,this.#l===0){this.is_pending=!1;for(const s of this.#h)H(s,le),W(s);for(const s of this.#d)H(s,ue),W(s);this.#h.clear(),this.#d.clear(),this.#e&&x(this.#e,()=>{this.#e=null}),this.#n&&(this.#t.before(this.#n),this.#n=null)}}update_pending_count(e){this.#v(e),this.#f+=e,!(!this.#o||this.#c)&&(this.#c=!0,w(()=>{this.#c=!1,this.#o&&fe(this.#o,this.#f)}))}get_effect_pending(){return this.#y(),z(this.#o)}error(e){var s=this.#a.onerror;let i=this.#a.failed;if(!s&&!i)throw e;this.#r&&(I(this.#r),this.#r=null),this.#e&&(I(this.#e),this.#e=null),this.#i&&(I(this.#i),this.#i=null),p&&(A(this.#p),ce(),A(he()));var a=!1,r=!1;const l=()=>{if(a){ge();return}a=!0,r&&de(),this.#i!==null&&x(this.#i,()=>{this.#i=null}),this.#_(()=>{D.ensure(),this.#g()})};w(()=>{try{r=!0,s?.(e,l),r=!1}catch(n){j(n,this.#s&&this.#s.parent)}i&&(this.#i=this.#_(()=>{D.ensure();try{return g(()=>{var n=v;n.b=this,n.f|=P,i(this.#t,()=>e,()=>l)})}catch(n){return j(n,this.#s.parent),null}}))})}}function je(t){return t.endsWith("capture")&&t!=="gotpointercapture"&&t!=="lostpointercapture"}const Ce=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function qe(t){return Ce.includes(t)}const Le={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function ze(t){return t=t.toLowerCase(),Le[t]??t}const Ve=["touchstart","touchmove"];function Be(t){return Ve.includes(t)}const Pe=["textarea","script","style","title"];function Ge(t){return Pe.includes(t)}const E=Symbol("events"),X=new Set,M=new Set;function Je(t,e,s,i={}){function a(r){if(i.capture||C.call(e,r),!r.cancelBubble)return ye(()=>s?.call(this,r))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?w(()=>{e.addEventListener(t,a,i)}):e.addEventListener(t,a,i),a}function Ue(t,e,s){(e[E]??={})[t]=s}function $e(t){for(var e=0;e<t.length;e++)X.add(t[e]);for(var s of M)s(t)}let q=null;function C(t){var e=this,s=e.ownerDocument,i=t.type,a=t.composedPath?.()||[],r=a[0]||t.target;q=t;var l=0,n=q===t&&t[E];if(n){var y=a.indexOf(n);if(y!==-1&&(e===document||e===window)){t[E]=e;return}var d=a.indexOf(e);if(d===-1)return;y<=d&&(l=y)}if(r=a[l]||t.target,r!==e){ve(t,"currentTarget",{configurable:!0,get(){return r||s}});var m=U,b=v;R(null),k(null);try{for(var o,f=[];r!==null;){var u=r.assignedSlot||r.parentNode||r.host||null;try{var h=r[E]?.[i];h!=null&&(!r.disabled||t.target===r)&&h.call(r,t)}catch(c){o?f.push(c):o=c}if(t.cancelBubble||u===e||u===null)break;r=u}if(o){for(let c of f)queueMicrotask(()=>{throw c});throw o}}finally{t[E]=e,delete t.currentTarget,R(m),k(b)}}}function Ke(t,e){var s=e==null?"":typeof e=="object"?e+"":e;s!==(t.__t??=t.nodeValue)&&(t.__t=s,t.nodeValue=s+"")}function Ye(t,e){return Q(t,e)}function Xe(t,e){O(),e.intro=e.intro??!1;const s=e.target,i=p,a=_;try{for(var r=me(s);r&&(r.nodeType!==K||r.data!==be);)r=Ee(r);if(!r)throw F;T(!0),A(r);const l=Q(t,{...e,anchor:r});return T(!1),l}catch(l){if(l instanceof Error&&l.message.split(`
`).some(n=>n.startsWith("https://svelte.dev/e/")))throw l;return l!==F&&console.warn("Failed to hydrate: ",l),e.recover===!1&&we(),O(),Te(s),T(!1),Ye(t,e)}finally{T(i),A(a)}}const S=new Map;function Q(t,{target:e,anchor:s,props:i={},events:a,context:r,intro:l=!0}){O();var n=void 0,y=Se(()=>{var d=s??e.appendChild(J());Fe(d,{pending:()=>{}},o=>{Re({});var f=$;if(r&&(f.c=r),a&&(i.$$events=a),p&&xe(o,null),n=t(o,i)||{},p&&(v.nodes.end=_,_===null||_.nodeType!==K||_.data!==Ae))throw Ne(),F;De()});var m=new Set,b=o=>{for(var f=0;f<o.length;f++){var u=o[f];if(!m.has(u)){m.add(u);var h=Be(u);for(const N of[e,document]){var c=S.get(N);c===void 0&&(c=new Map,S.set(N,c));var V=c.get(u);V===void 0?(N.addEventListener(u,C,{passive:h}),c.set(u,1)):c.set(u,V+1)}}}};return b(ke(X)),M.add(b),()=>{for(var o of m)for(const h of[e,document]){var f=S.get(h),u=f.get(o);--u==0?(h.removeEventListener(o,C),f.delete(o),f.size===0&&S.delete(h)):f.set(o,u)}M.delete(b),d!==s&&d.parentNode?.removeChild(d)}});return L.set(n,y),n}let L=new WeakMap;function Qe(t,e){const s=L.get(t);return s?(L.delete(t),s(e)):Promise.resolve()}export{Ue as a,je as b,Je as c,$e as d,qe as e,Xe as h,Ge as i,Ye as m,ze as n,Ke as s,Qe as u};
