import{c as B,a as f,f as k}from"../chunks/B9iJ3e22.js";import{o as ee}from"../chunks/D-XqJJ3s.js";import{f as I,A as J,B as K,i as p,g as r,j as a,t as P,ai as Q,v as o,aO as A,ag as S,S as D,N as T,aP as te,ah as ae}from"../chunks/D3onIxrH.js";import{d as L,s as N,a as $}from"../chunks/BUzLhcr0.js";import{l as O,s as V,p as re,i as H}from"../chunks/8GWtkEVA.js";import{I as W,s as q,a as G,h as oe,N as se,b as ie,e as ne}from"../chunks/BmZ4larQ.js";import{g as le}from"../chunks/AGS36fEn.js";import"../chunks/L4Qmuujs.js";function de(x,e){const c=O(e,["children","$$slots","$$events","$$legacy"]);const s=[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]];W(x,V({name:"arrow-right"},()=>c,{get iconNode(){return s},children:(l,m)=>{var i=B(),b=I(i);q(b,e,"default",{}),f(l,i)},$$slots:{default:!0}}))}function ce(x,e){const c=O(e,["children","$$slots","$$events","$$legacy"]);const s=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}],["path",{d:"m9 11 3 3L22 4"}]];W(x,V({name:"circle-check-big"},()=>c,{get iconNode(){return s},children:(l,m)=>{var i=B(),b=I(i);q(b,e,"default",{}),f(l,i)},$$slots:{default:!0}}))}function ve(x,e){const c=O(e,["children","$$slots","$$events","$$legacy"]);const s=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"}],["circle",{cx:"12",cy:"10",r:"3"}]];W(x,V({name:"map-pin"},()=>c,{get iconNode(){return s},children:(l,m)=>{var i=B(),b=I(i);q(b,e,"default",{}),f(l,i)},$$slots:{default:!0}}))}var ue=k('<button type="button" class="relative overflow-hidden rounded-[14px] h-[124px] w-full cursor-pointer border-2 border-[var(--accent-primary)] text-left" aria-pressed="true"><div class="absolute inset-0" style="background: linear-gradient(to bottom, var(--airforce-blue), var(--yale-blue));"></div> <div class="absolute inset-0 flex flex-col justify-end p-[18px]"><span class="font-display font-bold text-base text-white leading-tight"> </span> <span class="font-body text-[11px] mt-1" style="color: rgba(255,255,255,0.7);"> </span></div></button>'),fe=k('<div class="bg-[var(--home-card-bg)] rounded-[14px] p-5 flex flex-col gap-[14px] w-full border-[1.5px] border-[var(--home-border)] hover:bg-[var(--home-card-hover-bg)] transition-colors"><div class="flex items-center w-full"><button type="button" class="w-2 h-2 rounded-full bg-[var(--cambridge-green)] cursor-pointer hover:scale-125 transition-transform"></button></div> <div class="flex flex-col gap-[6px] w-full"><button type="button" class="font-display font-bold text-base text-[var(--home-text-dark)] text-left cursor-pointer hover:text-[var(--airforce-blue)] transition-colors"> </button> <span class="font-body text-[12px] text-[var(--home-text-light)]"> </span> <a class="flex items-center gap-1"><!> <span class="font-body text-[12px] font-medium text-[var(--airforce-blue)]">Ver clima →</span></a></div></div>');function pe(x,e){J(e,!0);let c=re(e,"selected",3,!1);function s(d,v){return`${d.toFixed(2)}, ${v.toFixed(2)}`}var l=B(),m=I(l);{var i=d=>{var v=ue(),u=p(r(v),2),y=r(u),w=r(y,!0);a(y);var g=p(y,2),z=r(g,!0);a(g),a(u),a(v),P(h=>{N(w,e.city.name),N(z,h)},[()=>s(e.city.latitude,e.city.longitude)]),$("click",v,function(...h){e.onToggle?.apply(this,h)}),f(d,v)},b=d=>{var v=fe(),u=r(v),y=r(u);a(u);var w=p(u,2),g=r(w),z=r(g,!0);a(g);var h=p(g,2),F=r(h,!0);a(h);var j=p(h,2),R=r(j);ve(R,{size:11,class:"text-[var(--home-text-light)]"}),Q(2),a(j),a(w),a(v),P(_=>{G(y,"aria-label",`Seleccionar ${e.city.name??""}`),N(z,e.city.name),N(F,_),G(j,"href",`/weather/${e.city.id??""}`)},[()=>s(e.city.latitude,e.city.longitude)]),$("click",y,function(..._){e.onToggle?.apply(this,_)}),$("click",g,function(..._){e.onToggle?.apply(this,_)}),$("click",j,_=>_.stopPropagation()),f(d,v)};H(m,d=>{c()?d(i):d(b,!1)})}f(x,l),K()}L(["click"]);var xe=k('<div class="fixed bottom-0 left-0 right-0 h-16 flex items-center justify-between px-12 bg-[var(--home-card-bg)]" style="border-top: 1px solid var(--home-border); z-index: 50;"><div class="flex items-center gap-[10px]"><!> <span class="font-body text-sm font-medium text-[var(--home-text-dark)]"> </span></div> <button type="button" class="flex items-center gap-2 text-white rounded-[10px] px-6 py-[10px] font-body text-sm font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed" style="background-color: var(--yale-blue);"><!> <span>Comparar</span></button></div>');function me(x,e){const c=A(()=>e.count<2);var s=xe(),l=r(s),m=r(l);ce(m,{size:18,class:"text-[var(--airforce-blue)]"});var i=p(m,2),b=r(i);a(i),a(l);var d=p(l,2),v=r(d);de(v,{size:16}),Q(2),a(d),a(s),P(()=>{N(b,`${e.count??""} ${e.count===1?"ciudad seleccionada":"ciudades seleccionadas"}`),d.disabled=o(c)}),$("click",d,function(...u){e.onCompare?.apply(this,u)}),f(x,s)}L(["click"]);var be=k('<div class="flex items-center justify-center py-24"><div class="w-8 h-8 rounded-full border-2 border-[var(--airforce-blue)] border-t-transparent animate-spin"></div></div>'),ge=k('<div class="rounded-[16px] p-6 text-center" style="background-color: var(--color-error-soft);"><p class="font-body text-sm text-[var(--color-error)]"> </p> <button class="mt-3 font-body text-sm font-semibold text-[var(--color-error)] underline" type="button">Reintentar</button></div>'),he=k('<p class="font-body text-sm text-[var(--home-text-light)] text-center py-12">No hay ciudades disponibles</p>'),ye=k('<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 w-full"></div>'),_e=k('<div class="min-h-screen flex flex-col" style="background-color: var(--home-bg);"><!> <main class="flex-1 flex flex-col gap-8 px-12 py-10 pb-24"><div class="flex items-end justify-between w-full"><div class="flex flex-col gap-2"><h1 class="font-display font-bold text-[32px] text-[var(--home-text-dark)]">Ciudades</h1> <p class="font-body text-sm text-[var(--home-text-light)]">Seleccioná ciudades para ver el clima o compararlas entre ellas</p></div> <div class="flex items-center gap-[6px] rounded-[20px] px-[14px] py-[6px]" style="background-color: var(--yale-blue-soft);"><span class="font-body text-sm font-medium text-[var(--airforce-blue)]"> </span></div></div> <!></main> <!></div>');function Pe(x,e){J(e,!0);let c=S(D([])),s=S(D(new Set)),l=S(!0),m=S(null);const i=A(()=>o(s).size),b=A(()=>o(i)>=1);ee(async()=>{try{T(c,await ie(),!0)}catch(t){T(m,t instanceof Error?t.message:"No se pudo conectar con el servidor",!0)}finally{T(l,!1)}});function d(t){const n=new Set(o(s));if(n.has(t))n.delete(t);else{if(n.size>=50)return;n.add(t)}T(s,n,!0)}function v(){if(o(i)<2)return;const t=[...o(s)].join(",");le(`/compare?ids=${t}`)}var u=_e();oe("1uha8ag",t=>{te(()=>{ae.title="Ciudades – Weather Radar"})});var y=r(u);se(y,{variant:"home"});var w=p(y,2),g=r(w),z=p(r(g),2),h=r(z),F=r(h);a(h),a(z),a(g);var j=p(g,2);{var R=t=>{var n=be();f(t,n)},_=t=>{var n=ge(),C=r(n),M=r(C,!0);a(C);var E=p(C,2);a(n),P(()=>N(M,o(m))),$("click",E,()=>location.reload()),f(t,n)},U=t=>{var n=he();f(t,n)},X=t=>{var n=ye();ne(n,21,()=>o(c),C=>C.id,(C,M)=>{{let E=A(()=>o(s).has(o(M).id));pe(C,{get city(){return o(M)},get selected(){return o(E)},onToggle:()=>d(o(M).id)})}}),a(n),f(t,n)};H(j,t=>{o(l)?t(R):o(m)?t(_,1):o(c).length===0?t(U,2):t(X,!1)})}a(w);var Y=p(w,2);{var Z=t=>{me(t,{get count(){return o(i)},onCompare:v})};H(Y,t=>{o(b)&&t(Z)})}a(u),P(()=>N(F,`${o(c).length??""} ciudades`)),f(x,u),K()}L(["click"]);export{Pe as component};
